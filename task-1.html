<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Task 1: DOM Manipulation</title>
    <link rel="stylesheet" href="css/base.css">
    <script src="js/loader.js"></script>
</head>

<body>
    <main class="flex flex-col justify-center min-h-screen items-center">
        <div class="post-card p-5 mb-5 rounded-lg shadow md:w-1/4">
            <h3 class="text-2xl heading">Kelvin Kress</h3>
            <p class="font-sans text-sm para">Lorem ipsum dolor sit amet consectetur adipisicing elit. Blanditiis, unde
                asperiores exercitationem totam
                accusamus illum debitis, voluptate corporis vel officiis doloribus deleniti molestiae veniam ipsa
                repudiandae ullam rem dolorum iure.</p>
        </div>
        <div class="flex" style="gap: 1rem" role="pagination">
            <!-- add buttons here -->
            <button class="rounded w-8 h-8 bg gray-300">1</button>
            <button class="rounded w-8 h-8 bg gray-300">2</button>
            <button class="rounded w-8 h-8 bg gray-300">3</button>
            <button class="rounded w-8 h-8 bg gray-300">4</button>
        </div>
    </main>
    <script>
        const changePost = (post_id) => {
            const url = 'https://jsonplaceholder.typicode.com/posts'
            const postUrl = `${url}/${post_id}`;

            console.log('change post works');

            fetch(postUrl) // enter postUrl here
                .then(res => res.json()) // convert response here
                .then(data => replaceContent(data)) //added replaceContent here
        }

        const replaceContent = ({
            title,
            body
        }) => {
            const heading = document.querySelector(" .heading");
            const para = document.querySelector(".para");

            heading.textContent = title;
            para.textContent = body;
        }

        const activateButtons = () => {
            // define buttons variable here
            const buttons = document.querySelectorAll("button");
            //loops through the buttons
            buttons.forEach((button, i) => {
                const index = i + 1; // index variable
                button.addEventListener('click', () => {
                    console.log('buttons work');
                    changePost(index);
                })
            })
        }

        const startApp = () => {
            activateButtons();
            console.log('start app works');
        }
        startApp();
    </script>
</body>

</html>